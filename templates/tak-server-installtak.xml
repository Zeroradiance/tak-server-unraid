<?xml version="1.0"?>
<Container version="2">
  <Name>TAK-Server-InstallTAK</Name>
  <Repository>ubuntu:22.04</Repository>
  <Registry>https://hub.docker.com/_/ubuntu</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://forums.unraid.net/topic/XXXXX-tak-server-installtak/</Support>
  <Project>https://github.com/myTeckNetCode/installTAK</Project>
  <Overview>TAK Server 5.4 using InstallTAK Script for Unraid

**PROVEN COMMUNITY SOLUTION:**
1. Download TAK Server 5.4 DEB from https://tak.gov/products/tak-server
2. Download required files: takserver_*_all.deb, takserver-public-gpg.key, deb_policy.pol
3. Place all files in /mnt/user/appdata/tak-server
4. Start container - InstallTAK handles everything automatically
5. Access TAK Server at https://YOUR-IP:8443

**REQUIRED FILES:**
✓ takserver_5.4-RELEASE-XX_all.deb (main package)
✓ takserver-public-gpg.key (GPG verification key)
✓ deb_policy.pol (policy file)

**FEATURES:**
✓ Uses proven InstallTAK script (42+ GitHub stars)
✓ Tested and validated by TAK community
✓ Automatic PostgreSQL setup and configuration
✓ Professional certificate generation
✓ Built-in setup wizard
✓ Native Ubuntu DEB installation

**ADVANTAGES:**
✓ Community maintained and supported
✓ Much simpler than custom solutions
✓ Proven reliability in production
✓ Official installation method adapted for containers
✓ No complex custom scripts to maintain</Overview>
  <Category>Tools: Network:Management</Category>
  <WebUI>https://[IP]:[PORT:8443]/</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/Zeroradiance/tak-server-unraid/main/templates/tak-server-installtak.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/Zeroradiance/tak-server-unraid/main/images/tak-server-icon.png</Icon>
  <ExtraParams>--init --privileged</ExtraParams>
  <PostArgs>bash -c "apt-get update &amp;&amp; apt-get install -y git wget curl &amp;&amp; git clone https://github.com/Zeroradiance/tak-server-unraid.git /tmp/setup &amp;&amp; chmod +x /tmp/setup/scripts/setup-installtak.sh &amp;&amp; exec /tmp/setup/scripts/setup-installtak.sh"</PostArgs>
  <CPUset/>
  <DonateText/>
  <DonateLink/>
  <Description>TAK Server 5.4 using proven InstallTAK script for automated setup</Description>
  
  <Config Name="TAK Server Data" Target="/setup" Default="/mnt/user/appdata/tak-server" Mode="rw" Description="Directory where TAK Server DEB files should be placed: takserver_*_all.deb, takserver-public-gpg.key, deb_policy.pol" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/tak-server</Config>
  <Config Name="TAK Web Interface" Target="8443" Default="8443" Mode="tcp" Description="Port for TAK Server web interface (HTTPS)" Type="Port" Display="always" Required="true" Mask="false">8443</Config>
  <Config Name="ATAK Client Port" Target="8089" Default="8089" Mode="tcp" Description="Port for ATAK mobile clients (SSL)" Type="Port" Display="always" Required="true" Mask="false">8089</Config>
  <Config Name="API Port" Target="8080" Default="8080" Mode="tcp" Description="Port for TAK Server API" Type="Port" Display="advanced" Required="false" Mask="false">8080</Config>
  <Config Name="Federation Port" Target="9000" Default="9000" Mode="tcp" Description="Port for TAK Server federation" Type="Port" Display="advanced" Required="false" Mask="false">9000</Config>
  <Config Name="Certificate Port" Target="8446" Default="8446" Mode="tcp" Description="Port for certificate enrollment" Type="Port" Display="advanced" Required="false" Mask="false">8446</Config>
</Container>
